<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bm25ì™€ í•œêµ­ì–´ í† í¬ë‚˜ì´ì €ë¥¼ í™œìš©í•œ Lexical Search ê°œì„  - PlayGround</title>
    <meta name="description" content="Lexical Search">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700;800&family=Inter:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- MathJax -->
    <script>
    MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true,
            processEnvironments: true,
            packages: {'[+]': ['ams', 'newcommand', 'configmacros']},
            tags: 'ams'
        },
        options: {
            ignoreHtmlClass: 'tex2jax_ignore',
            processHtmlClass: 'tex2jax_process'
        },
        startup: {
            ready: function () {
                MathJax.startup.defaultReady();
                MathJax.startup.promise.then(function () {
                    console.log('MathJax initial typesetting complete');
                });
            }
        }
    };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        /* VSCode Dark Theme for Code Blocks */
        .highlight {
            background-color: #0d1117 !important;
            color: #f0f6fc !important;
            border-radius: 4px !important;
            padding: 0.5rem !important;
            margin: 0.8rem 0 !important;
            overflow-x: auto !important;
            border: 2px solid #21262d !important;
            box-shadow: 3px 3px 0 0 #000 !important;
        }

        /* Override any white backgrounds in code blocks */
        .highlight, .highlight * {
            background-color: #0d1117 !important;
        }

        /* Line numbers styling */
        .highlight .lineno {
            color: #7d8590 !important;
            background-color: #0d1117 !important;
            padding-right: 0.2em !important;
            border-right: 1px solid #30363d !important;
            margin-right: 0.2em !important;
        }

        /* Force dark background for all code-related elements */
        .highlight div, .highlight span, .highlight code, .highlight pre,
        .highlighter-rouge .highlight, .highlighter-rouge {
            background-color: #0d1117 !important;
        }

        /* Remove any duplicate borders/shadows from Jekyll's default styles */
        .highlighter-rouge, .highlighter-rouge .highlight, 
        pre.highlight, div.highlight {
            border: none !important;
            box-shadow: none !important;
            margin: 0 !important;
            padding: 0 !important;
        }

        /* Ensure only .highlight has the styling */
        .highlight {
            display: block !important;
        }

        .highlight pre {
            background-color: transparent !important;
            color: inherit !important;
            margin: 0 !important;
            padding: 0 !important;
            border: none !important;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', 'Courier New', monospace !important;
            font-size: 13px !important;
            line-height: 1.3 !important;
        }

        .highlight code {
            background-color: transparent !important;
            color: inherit !important;
            padding: 0 !important;
            border: none !important;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', 'Courier New', monospace !important;
        }

        /* Ensure inline code overrides any .highlight code styles */
        :not(.highlight) > code,
        p code, li code, td code,
        h1 code, h2 code, h3 code, h4 code, h5 code, h6 code {
            background-color: #ffc0cb !important;
            color: #000000 !important;
            padding: 2px 6px !important;
            border-radius: 0 !important;
            font-family: 'JetBrains Mono', 'Consolas', 'Monaco', 'Courier New', monospace !important;
            font-size: 0.9em !important;
            border: 2px solid #000000 !important;
            font-weight: 700 !important;
            box-shadow: 2px 2px 0 0 #000000 !important;
        }

        /* VSCode Dark Theme Token Colors */
        .highlight .k,  /* Keywords */
        .highlight .kn, /* Keyword.Namespace */
        .highlight .kp, /* Keyword.Pseudo */
        .highlight .kr, /* Keyword.Reserved */
        .highlight .kt  /* Keyword.Type */
        { color: #569cd6 !important; font-weight: normal !important; }

        .highlight .s,  /* String */
        .highlight .sb, /* String.Backtick */
        .highlight .sc, /* String.Char */
        .highlight .sd, /* String.Doc */
        .highlight .s2, /* String.Double */
        .highlight .se, /* String.Escape */
        .highlight .sh, /* String.Heredoc */
        .highlight .si, /* String.Interpol */
        .highlight .sx, /* String.Other */
        .highlight .sr, /* String.Regex */
        .highlight .s1  /* String.Single */
        { color: #ce9178 !important; }

        .highlight .m,  /* Number */
        .highlight .mb, /* Number.Bin */
        .highlight .mf, /* Number.Float */
        .highlight .mh, /* Number.Hex */
        .highlight .mi, /* Number.Integer */
        .highlight .mo  /* Number.Oct */
        { color: #b5cea8 !important; }

        .highlight .c,  /* Comment */
        .highlight .c1, /* Comment.Single */
        .highlight .cs, /* Comment.Special */
        .highlight .cm  /* Comment.Multiline */
        { color: #6a9955 !important; font-style: italic !important; }

        .highlight .n,  /* Name */
        .highlight .na, /* Name.Attribute */
        .highlight .nb, /* Name.Builtin */
        .highlight .nc, /* Name.Class */
        .highlight .no, /* Name.Constant */
        .highlight .nd, /* Name.Decorator */
        .highlight .ne, /* Name.Exception */
        .highlight .nf, /* Name.Function */
        .highlight .nl, /* Name.Label */
        .highlight .nn, /* Name.Namespace */
        .highlight .nt, /* Name.Tag */
        .highlight .nv, /* Name.Variable */
        .highlight .nx  /* Name.Other */
        { color: #e1bdf0 !important; font-weight: 400 !important; }

        .highlight .o,  /* Operator */
        .highlight .ow  /* Operator.Word */
        { color: #d4d4d4 !important; }

        .highlight .p   /* Punctuation */
        { color: #d4d4d4 !important; }

        .highlight .bp  /* Name.Builtin.Pseudo */
        { color: #569cd6 !important; }

        .highlight .vc, /* Name.Variable.Class */
        .highlight .vg, /* Name.Variable.Global */
        .highlight .vi  /* Name.Variable.Instance */
        { color: #79c0ff !important; font-weight: 500 !important; }

        .highlight .il  /* Number.Integer.Long */
        { color: #b5cea8 !important; }

        /* Remove old inline code styling - moved to more specific selector above */
    </style>
    
    <style>
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(-1px, -1px); }
            60% { transform: translate(1px, 1px); }
            80% { transform: translate(1px, -1px); }
            100% { transform: translate(0); }
        }
        
        .glitch {
            animation: glitch 2s infinite;
        }
        
        .brutal-shadow {
            box-shadow: 6px 6px 0 0 #000;
        }
        
        .content-area h1, .content-area h2, .content-area h3, .content-area h4 {
            font-family: 'Inter', sans-serif;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-top: 2rem;
            margin-bottom: 1rem;
            position: relative;
        }
        
        .content-area h1 {
            font-size: 2.5rem;
            border: 4px solid #000;
            padding: 1rem;
            background: #fff;
            box-shadow: 8px 8px 0 0 #000;
            transform: rotate(-1deg);
        }
        
        .content-area h2 {
            font-size: 1.8rem;
            border-left: 8px solid #000;
            padding-left: 1rem;
            background: linear-gradient(90deg, #f1f1f1 0%, transparent 100%);
        }
        
        .content-area h3 {
            font-size: 1.4rem;
            text-decoration: underline;
            text-decoration-thickness: 4px;
            text-decoration-color: #000;
        }
        
        .content-area p {
            font-family: 'Inter', sans-serif;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }
        
        .content-area blockquote {
            border: 4px solid #000;
            background: #f9f9f9;
            padding: 1.5rem;
            margin: 2rem 0;
            position: relative;
            transform: rotate(0.5deg);
            box-shadow: 6px 6px 0 0 #000;
        }
        
        .content-area blockquote::before {
            content: '"';
            font-size: 4rem;
            font-weight: 900;
            position: absolute;
            top: -1rem;
            left: 1rem;
            line-height: 1;
        }
        
        /* Removed duplicate .content-area code styling that was overriding the proper syntax highlighting */
        
        /* Removed duplicate pre styling - using .highlight styles only */
        
        .content-area ul, .content-area ol {
            margin: 1.5rem 0;
            padding-left: 2rem;
        }
        
        .content-area li {
            margin: 0.5rem 0;
            position: relative;
        }
        
        .content-area ul li::before {
            content: 'â–¶';
            position: absolute;
            left: -1.5rem;
            font-weight: 900;
        }
        
        .content-area a {
            color: #000;
            text-decoration: underline;
            text-decoration-thickness: 3px;
            text-decoration-color: #ff0080;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        
        .content-area a:hover {
            background: #ff0080;
            color: #fff;
            padding: 0.2rem 0.4rem;
            text-decoration: none;
        }
        
        .content-area img {
            border: 4px solid #000;
            box-shadow: 8px 8px 0 0 #000;
            margin: 2rem 0;
            max-width: 100%;
            height: auto;
        }
        
        .content-area table {
            border: 4px solid #000;
            border-collapse: separate;
            border-spacing: 0;
            margin: 2rem 0;
            width: 100%;
            box-shadow: 6px 6px 0 0 #000;
        }
        
        .content-area th, .content-area td {
            border: 2px solid #000;
            padding: 1rem;
            text-align: left;
        }
        
        .content-area th {
            background: #000;
            color: #fff;
            font-weight: 800;
            text-transform: uppercase;
        }
        
        .content-area td {
            background: #fff;
        }
        
        .content-area tr:nth-child(even) td {
            background: #f1f1f1;
        }
        
        /* Like and view stats styling */
        .brutal-shadow-sm {
            box-shadow: 2px 2px 0 0 #000;
        }
    </style>
</head>
<body class="min-h-screen bg-white text-black">
    
    <!-- Back button -->
    <div class="fixed top-4 left-4 z-[1000]">
        <a href="/" class="inline-block border-4 border-black bg-white px-4 py-2 brutal-shadow hover:bg-gray-100 transition-colors font-mono font-bold uppercase">â† BACK</a>
    </div>
    
    <!-- Floating elements for decoration - only visible in CHAOS mode -->
    <div id="floating-shape-1" class="fixed top-20 right-10 w-16 h-16 border-4 border-black bg-pink-200 rotate-45 opacity-60 pointer-events-none" style="display: none;"></div>
    <div id="floating-shape-2" class="fixed bottom-20 left-10 w-12 h-12 border-4 border-black bg-yellow-200 rounded-full opacity-60 pointer-events-none" style="display: none;"></div>
    <div id="floating-shape-3" class="fixed top-1/2 right-20 w-8 h-20 border-4 border-black bg-blue-200 rotate-12 opacity-60 pointer-events-none" style="display: none;"></div>
    
    <main class="max-w-4xl mx-auto px-4 py-20">
        <!-- Post header -->
        <header class="mb-12">
            <div class="border-4 border-black bg-white p-6 brutal-shadow transform -rotate-1 mb-8">
                <div class="text-sm font-mono uppercase tracking-widest mb-2">
                    2025.08.11
                    
                    â€¢ NLP / AI
                    
                </div>
                <h1 class="text-4xl md:text-6xl font-black uppercase leading-tight">bm25ì™€ í•œêµ­ì–´ í† í¬ë‚˜ì´ì €ë¥¼ í™œìš©í•œ Lexical Search ê°œì„ </h1>
                
                <div class="mt-4 text-lg font-mono">by Ijzereen</div>
                
            </div>
            
            
            <div class="flex flex-wrap gap-2 mb-8">
                
                <span class="bg-black text-white px-3 py-1 text-sm font-mono uppercase border-2 border-black">bm25s</span>
                
                <span class="bg-black text-white px-3 py-1 text-sm font-mono uppercase border-2 border-black">Kkma</span>
                
                <span class="bg-black text-white px-3 py-1 text-sm font-mono uppercase border-2 border-black">OKT</span>
                
                <span class="bg-black text-white px-3 py-1 text-sm font-mono uppercase border-2 border-black">Kiwi</span>
                
            </div>
            
        </header>
        
        <!-- Post content -->
        <article class="content-area">
            <h2 id="lexical-search">Lexical Search</h2>

<p>Lexical SearchëŠ” ê¸°ë³¸ì ì¸ í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰ ë°©ë²•ìœ¼ë¡œ ë¬¸ì¥ / ì¿¼ë¦¬ì— ë‹´ê¸´ í…ìŠ¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê²€ìƒ‰í•œë‹¤.</p>

<p>ê°„ë‹¨í•œ Lexical ê²€ìƒ‰ ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">Query</code> : YSL ë°”ì§€ í•˜ë‚˜ ì™œ ì¢€ ì‚¬ì…ë˜ì§€ í•´</p>

<table>
  <thead>
    <tr>
      <th>id</th>
      <th>ë¬¸ì¥</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>ë‚´ ëˆì€ ë„ˆë¬´ ê¹¨ë—í•´ ë‚´ ë‘ ì†ì€ ë„ˆë¬´ ë”ëŸ¬ì›Œ</td>
    </tr>
    <tr>
      <td>2</td>
      <td>ë‹¤ë¦¬ë¥¼ ë»—ì–´ ìºí”¼í„¸ ë°”ì§€ì—</td>
    </tr>
    <tr>
      <td>3</td>
      <td>ë‚´ê°€ ì‹ ì€ ì‹ ë°œì€ YSL, ë‚´ ê¸°ë¶„ì²˜ëŸ¼ êµ¬ë‘êµ½ì´ ë˜ê²Œ ë†’ì§€</td>
    </tr>
    <tr>
      <td>4</td>
      <td>ì´ë²ˆ ì‹ ìƒ YSL ë°”ì§€ ì˜ˆì˜ë”ë¼, í•˜ë‚˜ ì‚¬ì•¼ê² ì–´.</td>
    </tr>
  </tbody>
</table>

<p>1ë²ˆ ë¬¸ì¥ :  None<br />
2ë²ˆ ë¬¸ì¥ : <code class="language-plaintext highlighter-rouge">ë°”ì§€</code><br />
3ë²ˆ ë¬¸ì¥ :  <code class="language-plaintext highlighter-rouge">YSL</code><br />
4ë²ˆ ë¬¸ì¥ :  <code class="language-plaintext highlighter-rouge">YSL</code>, <code class="language-plaintext highlighter-rouge">ë°”ì§€</code>, <code class="language-plaintext highlighter-rouge">í•˜ë‚˜</code></p>

<p>4ë²ˆ ë¬¸ì¥ì´ ê°€ì¥ ìœ ì‚¬í•œ í‚¤ì›Œë“œê°€ ë§ê¸° ë•Œë¬¸ì— 4ë²ˆ ë¬¸ì¥ì„ ì„ íƒí•œë‹¤.<br />
ì´ë ‡ê²Œ ì‚¬ìš©ìì˜ ì¿¼ë¦¬ì™€ ë¬¸ì¥ì„ í‚¤ì›Œë“œ ë‹¨ìœ„ë¡œ ë¶„í•´í•˜ì—¬ ìœ ì‚¬í•œ ë¬¸ì¥ì„ ì„ íƒí•œë‹¤.</p>

<h1 id="bm25">BM25</h1>

<p>BM25ëŠ” Best Matching 25ì˜ ì•½ìë¡œ Lexical Searchì—ì„œ ì‚¬ìš©ë˜ëŠ” ëŒ€í‘œì ì¸ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜ì´ë‹¤.</p>

<p>ì£¼ì–´ì§„ ì§ˆì˜ì™€ ë¬¸ì„œë“¤ ê°„ì˜ ê´€ë ¨ì„±ì„ í‰ê°€í•˜ëŠ”ë° SOTA( State-of-the-art )ì˜ ì„±ëŠ¥ì„ ë³´ì´ë©°, <code class="language-plaintext highlighter-rouge">elastic search</code> ì—ì„œë„ ê¸°ë³¸ ìœ ì‚¬ë„ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì±„íƒí–ˆë‹¤.</p>

<p>TF(Term Frequency, ë‹¨ì–´ì˜ ë“±ì¥ ë¹ˆë„)ì™€ IDF(Inverse Document Frequency, ì—­ë¬¸ì„œë¹ˆë„)ë¥¼ ìˆ˜ì‹ì—ì„œ ì´ìš©í•˜ì§€ë§Œ, ì˜ ì•Œë ¤ì§„ TF-IDF ì•Œê³ ë¦¬ì¦˜ì˜ ìˆ˜ì‹ê³¼ëŠ” ì‚´ì§ ë‹¤ë¥´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">TF</code> : ë¬¸ì„œ ì•ˆì— í•´ë‹¹ ë‹¨ì–´ê°€ ëª‡ë²ˆ ë“±ì¥í–ˆëŠ”ì§€ ì˜ë¯¸í•œë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ <em>ì‚¬ê³¼ê°€ ì‚¬ê³¼í•´</em>ë¼ëŠ” ë¬¸ì¥ì—ì„œëŠ” ì‚¬ê³¼ì˜ <code class="language-plaintext highlighter-rouge">TF</code> ëŠ” 2ì´ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">IDF</code> : ì „ì²´ ë¬¸ì„œ ì¤‘ í•´ë‹¹ ë‹¨ì–´ê°€ ì–¼ë§ˆë‚˜ í¬ê·€í•œì§€ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤. ë¬¸ì„œ ë¹ˆë„ì˜ inverse ê°’ì´ë¼ ìƒê°í•˜ë©´ ì¢‹ë‹¤.<br />
ì˜ˆë¥¼ ë“¤ì–´ í•œêµ­ì–´ì—ì„œ (ì´)ê°€, ëŠ” ë“±ì˜ í”í•œ ë‹¨ì–´ëŠ” ë§ì´ ë“±ì¥í•˜ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">IDF</code> ê°’ì´ ë‚®ë‹¤.</p>

<p>ì—¬ëŸ¬ ë¬¸ì„œë“¤ ì¤‘ ë¬¸ì„œ $D$ì™€ ì‚¬ìš©ì ì§ˆì˜ $Q$ì˜ ì—°ê´€ì„±ì€ ë‹¤ìŒê³¼ ê°™ì´ ê³„ì‚°í•œë‹¤.</p>

<p>BM25sëŠ” ë‹¤ìŒ ì¡°ê±´ì„ ë§Œì¡±í• ìˆ˜ë¡ ë” í° ì ìˆ˜ë¥¼ ë¶€ì—¬í•œë‹¤.</p>
<ul>
  <li>ë¬¸ì„œ ë‚´ìš©ì— ê²€ìƒ‰ì–´ ì¶œí˜„ ë¹ˆë„ê°€ ë†’ì„ìˆ˜ë¡</li>
  <li>ë¬¸ì„œ ë‚´ìš©ì´ ì§§ì„ìˆ˜ë¡</li>
  <li>ë‹¤ë¥¸ ë¬¸ì„œì— ê²€ìƒ‰ì–´ê°€ ì¶œí˜„í•˜ì§€ ì•Šì„ìˆ˜ë¡</li>
</ul>

<p>ìœ„ì—ì„œ ì˜ˆì‹œë¥¼ ë“¤ì—ˆë˜ ë¬¸ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ BM25ë¥¼ ì„¤ëª…í•´ë³´ê² ë‹¤.</p>

<p>\(\begin{align}
\text{score}(D, Q) &amp;= \sum_{i=1}^{n} \text{IDF}(q_i) \cdot \text{TF}(q_i) \\
&amp;= \sum_{i=1}^{n} \text{IDF}(q_i) \cdot \frac{f(q_i, D) \cdot (k_1 + 1)}{f(q_i, D) + k_1 \cdot \left(1 - b + b \cdot \frac{\lvert D \rvert}{\text{avgdl}}\right)} \\
&amp;= \sum_{i=1}^{n} \log\left(1 + \frac{N - n_{q_i} + 0.5}{n_{q_i} + 0.5}\right) \cdot \frac{f(q_i, D) \cdot (k_1 + 1)}{f(q_i, D) + k_1 \cdot \left(1 - b + b \cdot \frac{\lvert D \rvert}{\text{avgdl}}\right)}
\end{align}\)
ì‚¬ìš©ìì˜ ì§ˆì˜ $Q$ì— ëŒ€í•´ ë¬¸ì„œ(ì—¬ê¸°ì„œëŠ” ë¬¸ì¥)$D$ì™€ì˜ BM25 ì ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” ê³µì‹ì´ë‹¤.<br />
ì§ˆì˜ì™€ ë¬¸ì„œë“¤ ëª¨ë‘ ê¸°ë³¸ì ì¸ í† í°í™”ëŠ” ëœ í›„ì— BM25 ì•Œê³ ë¦¬ì¦˜ì„ ì‘ë™ì‹œí‚¨ë‹¤.</p>

<h3 id="tf">TF</h3>
<ul>
  <li>$f(q_i, D)$ : ì‚¬ìš©ìì˜ ì§ˆì˜ $Q$ì˜ $i$ë²ˆì§¸ ë‹¨ì–´ì¸ $q_i$ê°€ ë¬¸ì„œ $D$ì— ëª‡ë²ˆ ë“±ì¥í–ˆëŠ”ì§€ ë°˜í™˜í•œë‹¤. (<strong>ë¬¸ì„œ ë‚´ìš©ì— ê²€ìƒ‰ì–´ ì¶œí˜„ ë¹ˆë„ê°€ ë†’ì„ìˆ˜ë¡</strong>)</li>
  <li>$\frac{\lvert D \rvert}{\text{avgdl}}$ : ë¬¸ì„œë“¤ì˜ í‰ê·  ê¸¸ì´ì— ëŒ€í•œ í˜„ì¬ ë¬¸ì„œì˜ ê¸¸ì´ë¥¼ ì˜ë¯¸í•œë‹¤. (<strong>ë¬¸ì„œ ë‚´ìš©ì´ ì§§ì„ìˆ˜ë¡</strong>)</li>
  <li>$b$, $k_1$ : ì¡°ì • ê°€ëŠ¥í•˜ì§€ë§Œ, ë³´í†µ ìƒìˆ˜ë¡œ ê³ ì •ë˜ì–´ìˆëŠ” íŒŒë¼ë¯¸í„°ì´ë‹¤.</li>
</ul>

<h3 id="idf">IDF</h3>

\[\text{IDF}(q_i) = \log\left(1 + \frac{N - n_{q_i} + 0.5}{n_{q_i} + 0.5}\right)\]

<ul>
  <li>$N$ : ì „ì²´ ë¬¸ì„œì˜ ìˆ˜</li>
  <li>$n_{q_i}$ : $q_i$ê°€ í¬í•¨ëœ ë¬¸ì„œì˜ ìˆ˜</li>
</ul>

<p>ë”°ë¼ì„œ $n_{q_i}$ê°€ ë‚®ì„ìˆ˜ë¡ $IDF$ê°’ì€ ë†’ì•„ì§€ê¸° ë•Œë¬¸ì— <strong>ë‹¤ë¥¸ ë¬¸ì„œì— ê²€ìƒ‰ì–´($n_{q_i}$)ê°€ ì¶œí˜„í•˜ì§€ ì•Šì„ìˆ˜ë¡</strong> BM25 ì ìˆ˜ëŠ” ë†’ì•„ì§„ë‹¤.</p>

<h2 id="bm25s">BM25S</h2>

<blockquote>
  <p>BM25S is designed to provide a fast, low-dependency and low-memory implementation of BM25 algorithms in Python.</p>
</blockquote>

<p>BM25s ê³µì‹ë¬¸ì„œì— ì˜¬ë¼ì™€ìˆëŠ” ì„¤ëª…ìœ¼ë¡œ íŒŒì´ì¬ì—ì„œ BM25ë¡œ í‚¤ì›Œë“œ ê²€ìƒ‰ì„ í•  ìˆ˜ ìˆëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>pip <span class="nb">install </span>bm25s
</pre></td></tr></tbody></table></code></pre></div></div>
<p>BM25s ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜í•œë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">bm25s</span>

<span class="n">ë§ë­‰ì¹˜ë“¤</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sh">"</span><span class="s">ê³ ì–‘ì´ëŠ” ë§Œì¡±í•  ë•Œ ê·¸ë¥´ë ê±°ë¦°ë‹¤.</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ê°œëŠ” ì‚¬ëŒì˜ ì¹œêµ¬ì´ë©° ë†€ì´ë¥¼ ì¢‹ì•„í•œë‹¤.</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ìƒˆëŠ” ë‚ ê°œë¡œ í•˜ëŠ˜ì„ ë‚œë‹¤.</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ë¬¼ê³ ê¸°ëŠ” ì•„ê°€ë¯¸ë¡œ í˜¸í¡í•œë‹¤.</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ë¬¼ê³ ê¸°ëŠ” ê·¸ë¥´ë ê±°ë¦¬ì§€ ì•ŠëŠ”ë‹¤.</span><span class="sh">"</span>
<span class="p">]</span>

<span class="c1"># ë¬¸ì„œë“¤ì„ í† í°í™” ì‹œí‚¨ ë‹¤ìŒ ì €ì¥í•œë‹¤.
</span><span class="n">ë§ë­‰ì¹˜_BM25í† í°í™”</span> <span class="o">=</span> <span class="n">bm25s</span><span class="p">.</span><span class="nf">tokenize</span><span class="p">(</span><span class="n">ë§ë­‰ì¹˜ë“¤</span><span class="p">)</span>
<span class="n">ê²€ìƒ‰ê¸°</span> <span class="o">=</span> <span class="n">bm25s</span><span class="p">.</span><span class="nc">BM25</span><span class="p">(</span><span class="n">corpus</span><span class="o">=</span><span class="n">ë§ë­‰ì¹˜ë“¤</span><span class="p">)</span> <span class="c1">#ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë°˜í™˜í•  ë•Œ ì‚¬ìš©í•  ì›ë¬¸ë“¤ì„ ì €ì¥í•œë‹¤.
</span><span class="n">ê²€ìƒ‰ê¸°</span><span class="p">.</span><span class="nf">index</span><span class="p">(</span><span class="n">ë§ë­‰ì¹˜_BM25í† í°í™”</span><span class="p">)</span> <span class="c1">#ê²€ìƒ‰í•  ë•Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í† í° ë°ì´í„° êµ¬ì¡°ë¥¼ ìƒì„±í•œë‹¤.
</span>
<span class="c1"># You can now search the corpus with a query
</span><span class="n">ì§ˆì˜</span> <span class="o">=</span> <span class="sh">"</span><span class="s">ê³ ì–‘ì´ëŠ” ë§Œì¡±í•  ë•Œ ë­í•´?</span><span class="sh">"</span>
<span class="n">ì§ˆì˜_í† í°í™”</span> <span class="o">=</span> <span class="n">bm25s</span><span class="p">.</span><span class="nf">tokenize</span><span class="p">(</span><span class="n">ì§ˆì˜</span><span class="p">)</span>
<span class="n">ë¬¸ì„œë“¤</span><span class="p">,</span> <span class="n">ì ìˆ˜ë“¤</span> <span class="o">=</span> <span class="n">ê²€ìƒ‰ê¸°</span><span class="p">.</span><span class="nf">retrieve</span><span class="p">(</span><span class="n">ì§ˆì˜_í† í°í™”</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Best result (score: </span><span class="si">{</span><span class="n">ì ìˆ˜ë“¤</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="p">.</span><span class="mi">4</span><span class="n">f</span><span class="si">}</span><span class="s">): </span><span class="si">{</span><span class="n">ë¬¸ì„œë“¤</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Happy with your index? Save it for later...
</span><span class="n">ê²€ìƒ‰ê¸°</span><span class="p">.</span><span class="nf">save</span><span class="p">(</span><span class="sh">"</span><span class="s">bm25s_index_animals</span><span class="sh">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>ì‹¤í–‰í•˜ë©´ ë‹¤ìŒ ê²°ê³¼ê°€ ì¶œë ¥ëœë‹¤.</p>
<blockquote>
  <p>Best result (score: 1.1990): ê³ ì–‘ì´ëŠ” ë§Œì¡±í•  ë•Œ ê·¸ë¥´ë ê±°ë¦°ë‹¤.</p>
</blockquote>

<p>ê·¼ë° ì—¬ê¸°ì„œ í† í°í™”ëœ ê²°ê³¼ë¥¼ ì‚´í´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<blockquote>
  <p>ì§ˆì˜_í† í°í™” = Tokenized(<br />
    â€œidsâ€: [0: [0, 1, 2] ],<br />
    â€œvocabâ€: [â€˜ê³ ì–‘ì´ëŠ”â€™: 0â€™ë§Œì¡±í• â€™: 1â€™ë­í•´â€™: 2],)</p>
</blockquote>

<blockquote>
  <p>ë¬¸ì„œë“¤[0,0]ì˜ ë°ì´í„° = Tokenized(<br />
    â€œidsâ€: [ 0: [0, 1, 2] ],<br />
    â€œvocabâ€: [ â€˜ê³ ì–‘ì´ëŠ”â€™: 0 â€˜ë§Œì¡±í• â€™: 1 â€˜ê·¸ë¥´ë ê±°ë¦°ë‹¤â€™: 2 ],)</p>
</blockquote>

<p>í† í°í™”ì˜ ê²°ê³¼ê°€ ë‹¨ìˆœ ë„ì›Œì“°ê¸° ì •ë„ì´ë‹¤. 
<code class="language-plaintext highlighter-rouge">ê³ ì–‘ì´ëŠ”</code> ì€ <code class="language-plaintext highlighter-rouge">ê³ ì–‘ì´</code> ì™€ <code class="language-plaintext highlighter-rouge">ëŠ”</code> ìœ¼ë¡œ ìª¼ê°œì•¼í•œë‹¤.<br />
<code class="language-plaintext highlighter-rouge">ë­í•´</code> ëŠ” <code class="language-plaintext highlighter-rouge">ë­</code> + <code class="language-plaintext highlighter-rouge">í•˜</code> + <code class="language-plaintext highlighter-rouge">ì–´</code> ì •ë„ë¡œ ì„¸ë¶€ì ìœ¼ë¡œìª¼ê°œì•¼í•œë‹¤.</p>

<p>ë”°ë¼ì„œ í•œê¸€ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ BM25 ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•œ lexical ê²€ìƒ‰ì„ ìˆ˜í–‰í•  ë•ŒëŠ” ì¶”ê°€ì ì¸ í† í¬ë‚˜ì´ì €ê°€ í•„ìš”í•˜ë‹¤.</p>

<h1 id="í•œêµ­ì–´-í† í¬ë‚˜ì´ì €">í•œêµ­ì–´ í† í¬ë‚˜ì´ì €</h1>

<p>í•œêµ­ì–´ í† í¬ë‚˜ì´ì €ëŠ” í•œêµ­ì–´ì˜ íŠ¹ì„±ì— ì•Œë§ê²Œ í† í°í™”ì‹œí‚¬ ìˆ˜ ìˆì–´ì•¼í•œë‹¤.<br />
ìš°ë¦¬ê°€ í•™ìƒ ë•Œ ë°°ìš´ ê²ƒì²˜ëŸ¼ ì–´ê°„, ì–´ë¯¸, ì–´ê·¼, ì ‘ì‚¬ ë“± í˜•íƒœì†Œ ë‹¨ìœ„ì˜ í† í°í™”ê°€ ê°€ëŠ¥í•´ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤.</p>

<p>ì´ë¥¼ ìœ„í•´ ìš°ë¦¬ëŠ” ì„¸ê°€ì§€ í† í¬ë‚˜ì´ì €ë¥¼ ê°€ì§€ê³  í•œë²ˆ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ë ¤í•œë‹¤.</p>

<p><a href="https://github.com/open-korean-text/open-korean-text?tab=readme-ov-file" target="_blank">OpenKoreaText</a> : íŠ¸ìœ„í„°ì—ì„œ ê°œë°œí•œ ì˜¤í”ˆì†ŒìŠ¤ í•œêµ­ì–´ í† í¬ë‚˜ì´ì €<br />
<a href="https://github.com/YuJungChae/kkma_python" target="_blank">Kkma</a> : ì„œìš¸ëŒ€ì—ì„œ ê°œë°œí•œ í•œêµ­ì–´ í† í¬ë‚˜ì´ì €<br />
<a href="https://github.com/bab2min/Kiwi" target="_blank">Kiwi(Korean Intelligent Word Identifier)</a> : ì˜¤í”ˆì†ŒìŠ¤ í•œêµ­ì–´ í† í¬ë‚˜ì´ì €</p>

<p><code class="language-plaintext highlighter-rouge">Kiwi</code> ì˜ ê²½ìš°, <em>split_complex</em>ë¼ëŠ” ì˜µì…˜ì„ í†µí•´ ì„¸ë¶€ì ì¸ í† í¬ë‚˜ì´ì§• ì—¬ë¶€ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">konlpy.tag</span> <span class="kn">import</span> <span class="n">Okt</span>
<span class="kn">from</span> <span class="n">konlpy.tag</span> <span class="kn">import</span> <span class="n">Kkma</span>
<span class="kn">from</span> <span class="n">kiwipiepy</span> <span class="kn">import</span> <span class="n">Kiwi</span>

<span class="n">ì˜¤í…ì½”</span> <span class="o">=</span> <span class="nc">Okt</span><span class="p">()</span>
<span class="n">ê¼¬ê¼¬ë§ˆ</span>  <span class="o">=</span> <span class="nc">Kkma</span><span class="p">()</span>
<span class="n">í‚¤ìœ„</span> <span class="o">=</span> <span class="nc">Kiwi</span><span class="p">()</span>

<span class="n">text</span> <span class="o">=</span> <span class="sh">"</span><span class="s">ë‹¤ìŒ íœ´ê°€ì—ëŠ” ë¶€ì‚°êµ­ì œë½í˜ìŠ¤í‹°ë²Œì„ ê°€ê³ ì‹¶ì–´ìš”.</span><span class="sh">"</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">ì˜¤í…ì½” í˜•íƒœì†Œ ë¶„ì„ :</span><span class="sh">'</span><span class="p">,</span><span class="n">ì˜¤í…ì½”</span><span class="p">.</span><span class="nf">morphs</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">ê¼¬ê¼¬ë§ˆ í˜•íƒœì†Œ ë¶„ì„ :</span><span class="sh">'</span><span class="p">,</span><span class="n">ê¼¬ê¼¬ë§ˆ</span><span class="p">.</span><span class="nf">morphs</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>

<span class="n">í‚¤ìœ„_í˜•íƒœì†Œ_ëŸ¬í”„í•˜ê²Œ</span> <span class="o">=</span> <span class="n">í‚¤ìœ„</span><span class="p">.</span><span class="nf">tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">split_complex</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">í‚¤ìœ„_í˜•íƒœì†Œ_ì„¸ë¶€ì ìœ¼ë¡œ</span> <span class="o">=</span> <span class="n">í‚¤ìœ„</span><span class="p">.</span><span class="nf">tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">split_complex</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">í‚¤ìœ„_ëŸ¬í”„í•œ_ë¶„ì„ê²°ê³¼</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="p">.</span><span class="n">form</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">í‚¤ìœ„_í˜•íƒœì†Œ_ëŸ¬í”„í•˜ê²Œ</span><span class="p">]</span>
<span class="n">í‚¤ìœ„_ì„¸ë¶€ì ì¸_ë¶„ì„ê²°ê³¼</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="p">.</span><span class="n">form</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">í‚¤ìœ„_í˜•íƒœì†Œ_ì„¸ë¶€ì ìœ¼ë¡œ</span><span class="p">]</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(rough) :</span><span class="sh">'</span><span class="p">,</span> <span class="n">í‚¤ìœ„_ëŸ¬í”„í•œ_ë¶„ì„ê²°ê³¼</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sh">'</span><span class="s">í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(detail) :</span><span class="sh">'</span><span class="p">,</span> <span class="n">í‚¤ìœ„_ì„¸ë¶€ì ì¸_ë¶„ì„ê²°ê³¼</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<blockquote>
  <p>ì˜¤í…ì½” í˜•íƒœì†Œ ë¶„ì„ : [â€˜ë‹¤ìŒâ€™, â€˜íœ´ê°€â€™, â€˜ì—ëŠ”â€™, â€˜ë¶€ì‚°â€™, â€˜êµ­ì œâ€™, â€˜ë½í˜ìŠ¤í‹°ë²Œâ€™, â€˜ì„â€™, â€˜ê°€ê³ ì‹¶ì–´ìš”â€™, â€˜.â€™]<br />
ê¼¬ê¼¬ë§ˆ í˜•íƒœì†Œ ë¶„ì„ : [â€˜ë‹¤ìŒâ€™, â€˜íœ´ê°€â€™, â€˜ì—â€™, â€˜ëŠ”â€™, â€˜ë¶€ì‚°â€™, â€˜êµ­ì œâ€™, â€˜ë½â€™, â€˜í˜ìŠ¤í‹°ë²Œâ€™, â€˜ì„â€™, â€˜ê°€â€™, â€˜ê³ â€™, â€˜ì‹¶â€™, â€˜ì–´ìš”â€™, â€˜.â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(rough) : [â€˜ë‹¤ìŒâ€™, â€˜íœ´ê°€â€™, â€˜ì—â€™, â€˜ëŠ”â€™, â€˜ë¶€ì‚°â€™, â€˜êµ­ì œâ€™, â€˜ë½â€™, â€˜í˜ìŠ¤í‹°ë²Œâ€™, â€˜ì„â€™, â€˜ê°€â€™, â€˜ê³ â€™, â€˜ì‹¶â€™, â€˜ì–´ìš”â€™, â€˜.â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(detail) : [â€˜ë‹¤ìŒâ€™, â€˜íœ´ê°€â€™, â€˜ì—â€™, â€˜ëŠ”â€™, â€˜ë¶€ì‚°â€™, â€˜êµ­ì œâ€™, â€˜ë½â€™, â€˜í˜ìŠ¤í‹°ë²Œâ€™, â€˜ì„â€™, â€˜ê°€â€™, â€˜ê³ â€™, â€˜ì‹¶â€™, â€˜ì–´â€™, â€˜ìš”â€™, â€˜.â€™]</p>
</blockquote>

<p>ìœ¡ì•ˆìœ¼ë¡œ ë´¤ì„ ë•Œ, <code class="language-plaintext highlighter-rouge">ê¼¬ê¼¬ë§ˆ</code> ì™€ <code class="language-plaintext highlighter-rouge">í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(rough)</code> ì˜ í† í¬ë‚˜ì´ì§• ì •ë„ëŠ” ìœ ì‚¬í•´ë³´ì¸ë‹¤.<br />
<code class="language-plaintext highlighter-rouge">ì˜¤í…ì½”</code> ì˜ ì„±ëŠ¥ì€ ë¹„êµì  ë–¨ì–´ì ¸ë³´ì¸ë‹¤.</p>

<p>ê·¸ëŸ°ë° í† í¬ë‚˜ì´ì €ë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ <strong>ì¤‘ì˜ì ì¸ í† í¬ë‚˜ì´ì§•</strong>ì´ ê°€ëŠ¥í•  ë•Œ ì„œë¡œ ë‹¤ë¥¸ ê²°ê³¼ë¥¼ ë‚´ë†“ëŠ”ë‹¤.</p>

<p><code class="language-plaintext highlighter-rouge">ì „ìš©ì—­</code></p>
<blockquote>
  <p>ì˜¤í…ì½” í˜•íƒœì†Œ ë¶„ì„ : [â€˜ì „â€™, â€˜ìš©ì—­â€™]<br />
ê¼¬ê¼¬ë§ˆ í˜•íƒœì†Œ ë¶„ì„ : [â€˜ì „ìš©â€™, â€˜ì—­â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(rough) : [â€˜ì „â€™, â€˜ìš©ì—­â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(detail) : [â€˜ì „â€™, â€˜ìš©ì—­â€™]</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">ê³ ë¬¼ê°€</code></p>
<blockquote>
  <p>ì˜¤í…ì½” í˜•íƒœì†Œ ë¶„ì„ : [â€˜ê³ ë¬¼â€™, â€˜ê°€â€™]<br />
ê¼¬ê¼¬ë§ˆ í˜•íƒœì†Œ ë¶„ì„ : [â€˜ê³ ë¬¼ê°€â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(rough) : [â€˜ê³ â€™, â€˜ë¬¼ê°€â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(detail) : [â€˜ê³ â€™, â€˜ë¬¼ê°€â€™]</p>
</blockquote>

<p><code class="language-plaintext highlighter-rouge">ê°œì¸ê¸°</code></p>
<blockquote>
  <p>ì˜¤í…ì½” í˜•íƒœì†Œ ë¶„ì„ : [â€˜ê°œâ€™, â€˜ì¸ê¸°â€™]<br />
ê¼¬ê¼¬ë§ˆ í˜•íƒœì†Œ ë¶„ì„ : [â€˜ê°œì¸ê¸°â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(rough) : [â€˜ê°œì¸ê¸°â€™]<br />
í‚¤ìœ„ í˜•íƒœì†Œ ë¶„ì„(detail) : [â€˜ê°œì¸ê¸°â€™]</p>
</blockquote>

<h1 id="í•œêµ­ì–´-í† í¬ë‚˜ì´ì €--bm25">í•œêµ­ì–´ í† í¬ë‚˜ì´ì € + BM25</h1>

<p>ìœ„ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ <strong>í† í¬ë‚˜ì´ì§• ëª¨ë¸ì— ë”°ë¼ í† í°í™” ê²°ê³¼</strong>ê°€ ë‹¤ë¥´ë‹¤.<br />
ìˆ˜í–‰í•  taskì˜ ë¬¸ì¥ë“¤ì„ ì—¬ëŸ¿ ë„£ì–´ë³´ë©° <strong>í˜„ì¬ taskì—ì„œ ê°€ì¥ ì ì ˆí•œ í† í¬ë‚˜ì´ì§• ëª¨ë¸ì´ ë¬´ì—‡ì¸ì§€ ê²°ì •</strong>í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•  ê²ƒì´ë‹¤.</p>

<p>ì›í•˜ëŠ” í† í¬ë‚˜ì´ì €ë¥¼ ê³¨ëë‹¤ë©´, í•´ë‹¹ í† í¬ë‚˜ì´ì €ë¡œ 1ì°¨ í† í¬ë‚˜ì´ì§•ì„ í•œë’¤ BM25ì— ì ìš©í•˜ë©´ ëœë‹¤.</p>

<p>ìœ„ì— ì˜¬ë¦° bm25ì½”ë“œ ì¤‘ê°„ì— í•´ë‹¹ ì½”ë“œë¥¼ ì¶”ê°€í•˜ê³ , ì‚¬ìš©ì ì§ˆì˜ ì—­ì‹œ í† í¬ë‚˜ì´ì§•í•´ì„œ ì¿¼ë¦¬ë¡œ ë„£ìœ¼ë©´ ëœë‹¤.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">konlpy.tag</span> <span class="kn">import</span> <span class="n">Kkma</span>
<span class="c1">#...
</span><span class="n">ê¼¬ê¼¬ë§ˆ</span>  <span class="o">=</span> <span class="nc">Kkma</span><span class="p">()</span>

<span class="n">ë§ë­‰ì¹˜ë“¤</span> <span class="o">=</span> <span class="p">[</span><span class="nf">str</span><span class="p">(</span><span class="n">ê¼¬ê¼¬ë§ˆ</span><span class="p">.</span><span class="nf">morphs</span><span class="p">(</span><span class="n">ë¬¸ì¥</span><span class="p">))</span> <span class="k">for</span> <span class="n">ë¬¸ì¥</span> <span class="ow">in</span> <span class="n">ë§ë­‰ì¹˜ë“¤</span><span class="p">]</span>
<span class="c1">#...
</span></pre></td></tr></tbody></table></code></pre></div></div>


        </article>
        
        <!-- Like and View Stats -->
        <div class="mt-8 grid md:grid-cols-2 gap-4">
            <div class="border-4 border-black bg-white p-4 brutal-shadow">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <button id="like-btn" class="bg-pink-200 border-2 border-black px-3 py-1 font-mono font-bold uppercase hover:bg-pink-300 transition-colors brutal-shadow-sm">
                            â¤ï¸ <span id="like-count">0</span>
                        </button>
                    </div>
                    <div class="text-sm font-mono uppercase tracking-widest">
                        LIKES
                    </div>
                </div>
            </div>
            
            <div class="border-4 border-black bg-white p-4 brutal-shadow">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <div class="bg-blue-200 border-2 border-black px-3 py-1 font-mono font-bold uppercase brutal-shadow-sm">
                            ğŸ‘ï¸ <span id="view-count">0</span>
                        </div>
                    </div>
                    <div class="text-sm font-mono uppercase tracking-widest">
                        TOTAL VIEWS
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Post navigation -->
        <nav class="mt-16 grid md:grid-cols-2 gap-4">
            
            <div class="border-4 border-black bg-gray-100 p-4 brutal-shadow">
                <div class="text-sm font-mono uppercase tracking-widest mb-2">Previous Post</div>
                <a href="/posts/neobrutalism-design/" class="font-bold text-lg hover:underline">ë„¤ì˜¤ë¸Œë£¨íƒˆë¦¬ì¦˜ ì›¹ë””ìì¸ì˜ ìƒˆë¡œìš´ ë¬¼ê²°</a>
            </div>
            
            
            
        </nav>
    </main>
    
    <!-- Global CHAOS toggle button -->
    <div id="chaos-btn" class="fixed bottom-8 right-8 w-16 h-16 border-4 border-black bg-pink-200 cursor-pointer brutal-shadow hover:bg-pink-300 transition-colors flex items-center justify-center font-mono font-bold text-xs rotate-12">
        CHAOS
    </div>
    
    <script>
        // Global CHAOS mode functionality
        let chaosMode = localStorage.getItem('chaos-mode') === 'true';
        let chaosInterval = null;
        
        function rand(min, max) {
            return Math.random() * (max - min) + min;
        }
        
        function toggleChaosMode() {
            chaosMode = !chaosMode;
            localStorage.setItem('chaos-mode', chaosMode.toString());
            
            const btn = document.getElementById('chaos-btn');
            btn.textContent = chaosMode ? 'STOP CHAOS' : 'CHAOS';
            btn.style.background = chaosMode ? '#ff0080' : '#ffc0cb';
            
            // Show/hide floating shapes based on CHAOS mode
            const shapes = ['floating-shape-1', 'floating-shape-2', 'floating-shape-3'];
            shapes.forEach(id => {
                const shape = document.getElementById(id);
                if (shape) {
                    shape.style.display = chaosMode ? 'block' : 'none';
                }
            });
            
            if (chaosMode) {
                document.body.classList.add('glitch');
                
                // Continuous STRONG chaos mode for post page
                chaosInterval = setInterval(() => {
                    // Strong random glitch effects (ë” ìì£¼ ë°œìƒ)
                    if (Math.random() < 0.8) {
                        document.body.style.filter = `hue-rotate(${rand(0, 360)}deg) saturate(${rand(0.3, 3)}) contrast(${rand(0.5, 2)}) brightness(${rand(0.7, 1.3)})`;
                        setTimeout(() => {
                            document.body.style.filter = '';
                        }, rand(100, 500));
                    }
                    
                    // More aggressive decorative elements movement
                    const decorativeElements = document.querySelectorAll('.fixed:not(#chaos-btn)');
                    decorativeElements.forEach(el => {
                        if (Math.random() < 0.7) {
                            const randomRotation = rand(-90, 90);
                            const randomX = rand(-50, 50);
                            const randomY = rand(-50, 50);
                            const randomScale = rand(0.5, 1.5);
                            el.style.transform = `rotate(${randomRotation}deg) translate(${randomX}px, ${randomY}px) scale(${randomScale})`;
                        }
                    });
                    
                    // Strong content area effects
                    const content = document.querySelector('.content-area');
                    if (content && Math.random() < 0.6) {
                        content.style.transform = `skew(${rand(-5, 5)}deg, ${rand(-3, 3)}deg) rotate(${rand(-2, 2)}deg)`;
                        setTimeout(() => {
                            content.style.transform = '';
                        }, rand(50, 200));
                    }
                    
                    // Random header effects
                    const header = document.querySelector('header');
                    if (header && Math.random() < 0.4) {
                        header.style.transform = `translate(${rand(-10, 10)}px, ${rand(-5, 5)}px) rotate(${rand(-3, 3)}deg)`;
                        setTimeout(() => {
                            header.style.transform = '';
                        }, rand(100, 300));
                    }
                    
                    // Random element color changes
                    if (Math.random() < 0.3) {
                        const elements = document.querySelectorAll('.brutal-shadow, .border-4');
                        elements.forEach(el => {
                            if (Math.random() < 0.2) {
                                const colors = ['#ff0080', '#00ff80', '#8000ff', '#ffff00', '#ff8000'];
                                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                                el.style.borderColor = randomColor;
                                setTimeout(() => {
                                    el.style.borderColor = '#000';
                                }, rand(200, 800));
                            }
                        });
                    }
                    
                    // Extreme text shake
                    if (Math.random() < 0.3) {
                        const textElements = document.querySelectorAll('h1, h2, h3, p');
                        textElements.forEach(el => {
                            if (Math.random() < 0.1) {
                                el.style.animation = 'glitch 0.5s ease-in-out';
                                setTimeout(() => {
                                    el.style.animation = '';
                                }, 500);
                            }
                        });
                    }
                    
                }, rand(300, 800)); // ë” ë¹ ë¥¸ ê°„ê²©
                
            } else {
                document.body.classList.remove('glitch');
                document.body.style.filter = '';
                if (chaosInterval) {
                    clearInterval(chaosInterval);
                    chaosInterval = null;
                }
                
                // Reset ALL transformations and styles
                const decorativeElements = document.querySelectorAll('.fixed:not(#chaos-btn)');
                decorativeElements.forEach(el => {
                    el.style.transform = '';
                    el.style.borderColor = '#000';
                });
                
                const content = document.querySelector('.content-area');
                if (content) {
                    content.style.transform = '';
                }
                
                const header = document.querySelector('header');
                if (header) {
                    header.style.transform = '';
                }
                
                // Reset all text animations
                const textElements = document.querySelectorAll('h1, h2, h3, p');
                textElements.forEach(el => {
                    el.style.animation = '';
                });
                
                // Reset all border colors
                const elements = document.querySelectorAll('.brutal-shadow, .border-4');
                elements.forEach(el => {
                    el.style.borderColor = '#000';
                });
            }
        }
        
        // Initialize CHAOS mode on page load
        document.addEventListener('DOMContentLoaded', () => {
            const btn = document.getElementById('chaos-btn');
            
            // Initialize floating shapes visibility based on CHAOS mode
            const shapes = ['floating-shape-1', 'floating-shape-2', 'floating-shape-3'];
            shapes.forEach(id => {
                const shape = document.getElementById(id);
                if (shape) {
                    shape.style.display = chaosMode ? 'block' : 'none';
                }
            });
            
            // Set initial button state
            if (chaosMode) {
                btn.textContent = 'STOP CHAOS';
                btn.style.background = '#ff0080';
                document.body.classList.add('glitch');
                
                // Start STRONG chaos interval
                chaosInterval = setInterval(() => {
                    // Strong random glitch effects
                    if (Math.random() < 0.8) {
                        document.body.style.filter = `hue-rotate(${rand(0, 360)}deg) saturate(${rand(0.3, 3)}) contrast(${rand(0.5, 2)}) brightness(${rand(0.7, 1.3)})`;
                        setTimeout(() => {
                            document.body.style.filter = '';
                        }, rand(100, 500));
                    }
                    
                    // More aggressive decorative elements movement
                    const decorativeElements = document.querySelectorAll('.fixed:not(#chaos-btn)');
                    decorativeElements.forEach(el => {
                        if (Math.random() < 0.7) {
                            const randomRotation = rand(-90, 90);
                            const randomX = rand(-50, 50);
                            const randomY = rand(-50, 50);
                            const randomScale = rand(0.5, 1.5);
                            el.style.transform = `rotate(${randomRotation}deg) translate(${randomX}px, ${randomY}px) scale(${randomScale})`;
                        }
                    });
                    
                    // Strong content area effects
                    const content = document.querySelector('.content-area');
                    if (content && Math.random() < 0.6) {
                        content.style.transform = `skew(${rand(-5, 5)}deg, ${rand(-3, 3)}deg) rotate(${rand(-2, 2)}deg)`;
                        setTimeout(() => {
                            content.style.transform = '';
                        }, rand(50, 200));
                    }
                    
                    // Random header effects
                    const header = document.querySelector('header');
                    if (header && Math.random() < 0.4) {
                        header.style.transform = `translate(${rand(-10, 10)}px, ${rand(-5, 5)}px) rotate(${rand(-3, 3)}deg)`;
                        setTimeout(() => {
                            header.style.transform = '';
                        }, rand(100, 300));
                    }
                    
                    // Random element color changes
                    if (Math.random() < 0.3) {
                        const elements = document.querySelectorAll('.brutal-shadow, .border-4');
                        elements.forEach(el => {
                            if (Math.random() < 0.2) {
                                const colors = ['#ff0080', '#00ff80', '#8000ff', '#ffff00', '#ff8000'];
                                const randomColor = colors[Math.floor(Math.random() * colors.length)];
                                el.style.borderColor = randomColor;
                                setTimeout(() => {
                                    el.style.borderColor = '#000';
                                }, rand(200, 800));
                            }
                        });
                    }
                    
                    // Extreme text shake
                    if (Math.random() < 0.3) {
                        const textElements = document.querySelectorAll('h1, h2, h3, p');
                        textElements.forEach(el => {
                            if (Math.random() < 0.1) {
                                el.style.animation = 'glitch 0.5s ease-in-out';
                                setTimeout(() => {
                                    el.style.animation = '';
                                }, 500);
                            }
                        });
                    }
                    
                }, rand(300, 800)); // ë” ë¹ ë¥¸ ê°„ê²©
            }
            
            btn.addEventListener('click', toggleChaosMode);
        });
        
        // Add reading progress
        const progressBar = document.createElement('div');
        progressBar.className = 'fixed top-0 left-0 h-2 bg-black z-[1001] transition-all duration-100';
        document.body.appendChild(progressBar);
        
        window.addEventListener('scroll', () => {
            const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (window.scrollY / totalHeight) * 100;
            progressBar.style.width = progress + '%';
        });
        
        // Like and View System
        function initLikeAndViewSystem() {
            const postUrl = window.location.pathname;
            
            // Get current counts from localStorage
            const likeKey = `likes_${postUrl}`;
            const viewKey = `views_${postUrl}`;
            const userLikeKey = `user_liked_${postUrl}`;
            
            let likeCount = parseInt(localStorage.getItem(likeKey) || '0');
            let viewCount = parseInt(localStorage.getItem(viewKey) || '0');
            let userLiked = localStorage.getItem(userLikeKey) === 'true';
            
            // Increment view count on page load (cumulative, not daily)
            viewCount++;
            localStorage.setItem(viewKey, viewCount.toString());
            
            // Update UI
            const likeBtn = document.getElementById('like-btn');
            const likeCountEl = document.getElementById('like-count');
            const viewCountEl = document.getElementById('view-count');
            
            likeCountEl.textContent = likeCount;
            viewCountEl.textContent = viewCount;
            
            // Set initial like button state
            if (userLiked) {
                likeBtn.style.backgroundColor = '#ff0080';
                likeBtn.style.color = '#fff';
            }
            
            // Like button functionality
            likeBtn.addEventListener('click', () => {
                if (userLiked) {
                    // Unlike
                    likeCount--;
                    userLiked = false;
                    likeBtn.style.backgroundColor = '#ffc0cb';
                    likeBtn.style.color = '#000';
                    localStorage.setItem(userLikeKey, 'false');
                } else {
                    // Like
                    likeCount++;
                    userLiked = true;
                    likeBtn.style.backgroundColor = '#ff0080';
                    likeBtn.style.color = '#fff';
                    localStorage.setItem(userLikeKey, 'true');
                }
                
                localStorage.setItem(likeKey, likeCount.toString());
                likeCountEl.textContent = likeCount;
            });
        }
        
        // Initialize on page load
        initLikeAndViewSystem();
    </script>
</body>
</html>